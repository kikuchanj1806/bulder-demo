/* Đảm bảo row có base tốt */
.layer-row {
  position: relative;
  display: flex;
  align-items: center;
  gap: 0;
  margin-bottom: 6px;
}

/* slot chiếm đúng chỗ badge */
.type-slot {
  position: relative;
  display: inline-flex;
  align-items: center;
  width: 54px;     /* tuỳ chỉnh cho đẹp */
  height: 20px;
  flex: 0 0 auto;
}

/* badge mặc định */
.type-slot .badge-type {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  font-size: 11px;
  line-height: 1;
  padding: 2px 6px;
  border-radius: 999px;
  background: rgba(0, 0, 0, 0.06);
  opacity: 1;
  transition: opacity 120ms ease;
}

/* handle nằm đè tại đúng vị trí badge nhưng ẩn */
.type-slot .drag-handle {
  position: absolute;
  inset: 0;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 999px;
  opacity: 0;
  transition: opacity 120ms ease;
  color: rgba(0, 0, 0, 0.65);
  cursor: grab;
}

/* chỉ khi row hover + canDnd thì swap */
.layer-row.can-dnd:hover .type-slot .badge-type {
  opacity: 0;
}

.layer-row.can-dnd:hover .type-slot .drag-handle {
  opacity: 1;
}

/* disabled */
.type-slot .drag-handle.disabled {
  cursor: not-allowed;
  opacity: 0 !important; /* không show nếu không kéo được */
}

/* khi đang kéo giữ handle hiện */
.layer-drag-item.cdk-drag-dragging .type-slot .drag-handle {
  opacity: 1;
  cursor: grabbing;
}

.badge-type {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 22px;
  height: 22px;
  border-radius: 6px;
  background: rgba(13, 110, 253, 0.12);
  color: rgba(13, 110, 253, 1);
  font-size: 12px;
}

.actions-slot {
  margin-left: auto;         // đẩy sang phải
  display: inline-flex;
  align-items: center;
  gap: 4px;
  opacity: 0;                // mặc định ẩn
  pointer-events: none;      // tránh click khi đang ẩn
  transition: opacity 120ms ease;
}

/* nút action nhỏ gọn */
.action-btn {
  color: rgba(33, 37, 41, 0.65);
}
.layer-row:hover .action-btn {
  color: rgba(33, 37, 41, 0.95);
}

/* nếu muốn chỉ hiện khi select mode */
.layer-row:not(.can-dnd) .actions-slot {
  opacity: 0 !important;
  pointer-events: none !important;
}

.layer-row:hover .actions-slot,
.layer-row.is-selected .actions-slot {
  opacity: 1;
  pointer-events: auto;
}

.type-slot {
  position: relative;
  width: 22px;     // cố định để không giật layout
  height: 22px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.type-slot .badge-type { opacity: 1; transition: opacity 120ms ease; }
.type-slot .drag-handle { opacity: 0; transition: opacity 120ms ease; position: absolute; inset: 0;
  display: inline-flex; align-items: center; justify-content: center;
}

.layer-row.can-dnd:hover .type-slot .badge-type,
.layer-row.is-selected.can-dnd .type-slot .badge-type {
  opacity: 0;
}

.layer-row.can-dnd:hover .type-slot .drag-handle,
.layer-row.is-selected.can-dnd .type-slot .drag-handle {
  opacity: 1;
}

.px-6-c {
  padding-left: 6px !important;
  padding-right: 6px !important;
}
